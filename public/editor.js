webpackJsonp([0],{0:function(e,t,n){e.exports=n(1)},1:function(e,t,n){try{(function(){"use strict";function e(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function t(e){return e&&e.__esModule?e:{"default":e}}var r=n(2),o=t(r),a=n(154),i=n(155),l=n(169),u=t(l),s=n(170),c=n(171);n(185);var f=n(189),p=t(f),d=n(190),h=(e(d),n(197)),m=t(h),v=n(198),y=t(v),g=window.__init_state,b=null;b=g?{data:g,app:{editor:!0,imgInsertId:null,focus:null,after:1,saving:!1,localsaving:!1,hasLocalData:!1,uploading:!1}}:m["default"],b=(0,s.fromJS)(b);var O=(0,i.applyMiddleware)(u["default"])(i.createStore)(p["default"],b);console.log("CODEX by Georges Madalinski"),(0,a.render)(o["default"].createElement(c.Provider,{store:O},o["default"].createElement(y["default"],null)),document.getElementById("react-view"))}).call(this)}finally{}},185:function(e,t){},189:function(e,t,n){try{(function(){"use strict";function r(e,t,n,r){var o=t.getIn(["data","sections"]).findKey(function(e){return e===n})+e;return t.updateIn(["data","sections"],function(e){return e.insert(o,r)})}function o(e,t,n){var r=0;return t&&(r=e.getIn(["data","headings"]).findKey(function(e){return e===t})+1),e.updateIn(["data","headings"],function(e){return e.insert(r,n)})}function a(e,t,n){for(var r=e.getIn(["data","sections"]).toJS(),o=null,a=0;a<r.length;a++){if(0===n&&r[a]===t)return o;if("header"===e.getIn(["data","items",r[a],"type"])&&(o=r[a]),r[a]===t)return o}return o}Object.defineProperty(t,"__esModule",{value:!0});var i=n(170),l=(0,i.Map)();t["default"]=function(e,t){switch(void 0===e&&(e=l),t.type){case"SET_PAGE_DATA":return console.log("reducing..."),console.log(t.val),e.set("data",(0,i.fromJS)(t.val));case"LOCAL_DATA_TOKEN":return e.setIn(["app","hasLocalData"],t.val);case"NEW_TEXT":var n=t.val?t.val:null,u=(0,i.Map)({type:"text",content:n,options:(0,i.Map)({align:"alignleft",size:100})});return r(t.after,e,t.prevID,t.contentID).setIn(["data","items",t.contentID],u);case"NEW_HEADER":var n=t.val?t.val:"title",s=a(e,t.prevID,t.after),c=(0,i.Map)({type:"header",content:n,options:(0,i.Map)({align:"alignleft",size:t.size,level:null})}),f=r(t.after,e,t.prevID,t.contentID);return o(f,s,t.contentID).setIn(["data","items",t.contentID],c);case"COMPUTE_HEADING_LEVELS":for(var f=e,p=e.getIn(["data","headings"]).toJS(),d=0,h=0,m=0,v=0;v<p.length;v++){var y=e.getIn(["data","items",p[v],"options","size"]);"h2"===y?(m++,0===d&&(d=1),0===h&&(h=1)):"h1"===y?(h++,m=0,0===d&&(d=1)):(d++,h=0,m=0),f=f.setIn(["data","items",p[v],"options","level"],(0,i.List)([d,h,m]))}return f;case"DELETE_ITEM":return"title"===t.itemId?e:e.updateIn(["data","sections"],function(e){return e.filter(function(e){return e!==t.itemId})}).updateIn(["data","items"],function(e){return e["delete"](t.itemId)});case"DELETE_HEADING":return e.updateIn(["data","headings"],function(e){return e.filter(function(e){return e!==t.itemId})});case"ADD_IMG":if(!t.url||!t.dimen)return e;var g=66;t.dimen.width<t.dimen.height&&(g=Math.round(66*t.dimen.width/t.dimen.height));var b=(0,i.Map)({type:"img",src:t.url,content:null,imgid:t.imgid,options:(0,i.Map)({size:g,align:"aligncenter",width:t.dimen.width,height:t.dimen.height})});return r(t.after,e,t.prevID,t.componentId).setIn(["data","items",t.componentId],b);case"ADD_MEDIA":var O=(0,i.Map)({type:t.mediaType,options:(0,i.Map)({disp:!1,src:null})});return r(t.after,e,t.prevID,t.contentID).setIn(["data","items",t.contentID],O);case"ADD_YOUTUBE":var I=(0,i.Map)({type:"youtube",options:(0,i.Map)({disp:!1,src:null})});return r(t.after,e,t.prevID,t.contentID).setIn(["data","items",t.contentID],I);case"SET_IMG":return e.setIn(["data","img"],t.src);case"SWITCH_PAGE":return e.updateIn(["app","editor"],function(e){return!e});case"SET_IMG_BANK":return e.setIn(["data","imgsData"],t.val);case"UPLOADING_IN_PROG":return e.setIn(["app","uploading"],!0);case"UPLOADING_ENDED":return e.setIn(["app","uploading"],!1);case"OPEN_IMAGE_SELECT_PAGE":return e.setIn(["app","editor"],!1).setIn(["app","imgInsertId"],t.componentId).setIn(["app","after"],t.after).setIn(["app","focus"],null);case"CLOSE_IMG_SELECT_PAGE":return e.setIn(["app","editor"],!0);case"CLEAR_IMG_INSERT_ID":return e.setIn(["app","imgInsertId"],null);case"SAVE_ITEM_CONTENT":return e.setIn(["data","items",t.itemId,"content"],t.val);case"FOCUS_ON_ITEM":return e.setIn(["app","focus"],t.itemId);case"SAVE_TITLE":return e.setIn(["data","title"],t.val);case"CLEAR_FOCUS":return e.setIn(["app","focus"],null);case"CHANGE_OPTION_ALIGNMENT":return e.setIn(["data","items",t.itemId,"options","align"],t.val);case"CHANGE_OPTION_IMG_SIZE":return e.setIn(["data","items",t.itemId,"options","size"],t.val);case"CHANGE_OPTION_SIZE":return e.setIn(["data","items",t.itemId,"options","size"],t.val);case"CHANGE_OPTION_SRC":return e.setIn(["data","items",t.itemId,"options","src"],t.val);case"CHANGE_OPTION_NUMBERING":return e.setIn(["data","headingNumbering"],t.val);case"PUBLISH":return e.setIn(["data","published"],!0);case"SAVING_START":return e.setIn(["app","saving"],!0);case"SAVING_END":return e.setIn(["app","saving"],!1);case"SET_LOCAL_SAVING":return e.setIn(["app","localsaving"],t.val);default:return e}},e.exports=t["default"]}).call(this)}finally{}},190:function(e,t,n){try{(function(){"use strict";function e(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n,r,a){return function(u){"text"===t?u(i(e,"",n,r)):"heading"===t?u(l(e,"","h0",n,r)):"image"===t?u(p(e,a.url,a.imgid,n,r)):"codepen"!==t&&"youtube"!==t||u(o(e,n,r,t))}}function o(e,t,n,r){return{type:"ADD_MEDIA",prevID:t,contentID:n,after:e,mediaType:r}}function a(e,t,n){return{type:"ADD_YOUTUBE",prevID:t,contentID:n,after:e}}function i(e,t,n,r){return{type:"NEW_TEXT",val:t,prevID:n,contentID:r,after:e}}function l(e,t,n,r,o){return function(a,i){a(s(e,t,n,r,o)),a(c())}}function u(e){return{type:"DELETE_HEADING",itemId:e}}function s(e,t,n,r,o){return{type:"NEW_HEADER",val:t,size:n,prevID:r,contentID:o,after:e}}function c(){return{type:"COMPUTE_HEADING_LEVELS"}}function f(e){return{type:"SET_IMG",src:e}}function p(e,t,n,r){return{type:"ADD_IMG",url:t.url,imgid:t.imgid,dimen:t.dimen,prevID:n,componentId:r,after:e}}function d(){return{type:"UPLOADING_IN_PROG"}}function h(){return{type:"UPLOADING_ENDED"}}function m(e,t,n,r,o){return function(a,i){var l=i().getIn(["data","pageid"]);return a(d()),(0,Q.uploadToS3)(e,t,l).then(function(e){return a(h()),a(p(n,e,r,o)),a(I()),a(_())})["catch"](function(e){return a(h()),!1})}}function v(){return{type:"IMG_UPLOAD_START"}}function y(){return{type:"IMG_UPLOAD_END"}}function g(e){if(e)return function(t,n){var r=n().getIn(["data","pageid"]);return(0,ee.ajaxGetData)("/codex/delete-image?pageid="+r+"&imgid="+e).then(JSON.parse).then(function(e){return e.status&&t(V()),e.status})}}function b(e){return function(t){return(0,Q.uploadToS3)(e)}}function O(e,t){return{type:"OPEN_IMAGE_SELECT_PAGE",componentId:e,after:t}}function I(){return{type:"CLOSE_IMG_SELECT_PAGE"}}function _(){return{type:"CLEAR_IMG_INSERT_ID"}}function E(){return{type:"SWITCH_PAGE"}}function w(e,t){return{type:"SAVE_ITEM_CONTENT",itemId:e,val:t}}function P(e){return{type:"FOCUS_ON_ITEM",itemId:e}}function x(){return{type:"CLEAR_FOCUS"}}function T(e){return{type:"DELETE_ITEM",itemId:e}}function N(){return function(e,t){var n=t().getIn(["app","focus"]);if(n){var r=t().getIn(["data","items",n,"type"]);"header"===r&&(e(u(n)),e(c())),e(x()),e(T(n))}}}function S(e,t){return{type:"CHANGE_OPTION_ALIGNMENT",itemId:e,val:t}}function C(e,t){return{type:"CHANGE_OPTION_SIZE",itemId:e,val:t}}function j(e,t){return function(n){n(C(e,t)),n(c())}}function D(e,t){return{type:"CHANGE_OPTION_SRC",itemId:e,val:t}}function k(e){return{type:"CHANGE_OPTION_NUMBERING",val:e}}function M(e,t,n,r){return function(o){o(I()),o(p(t,e,n,r)),o(_())}}function A(e){return{type:"SET_IMG_BANK",val:e}}function F(e,t){var n=Math.round(t);return n=n>0?n:0,n=n<100?n:100,{type:"CHANGE_OPTION_IMG_SIZE",itemId:e,val:n}}function L(){var e=(0,$["default"])(".title .textbox-content").text();return{type:"SAVE_TITLE",val:e}}function B(){return function(e){var t={title:"My New Adventure"};(0,ee.ajaxSendData)("/codex/create",JSON.stringify(t))}}function G(){return{type:"SAVING_START"}}function U(){return{type:"SAVING_END"}}function R(){return function(e,t){if(!t().getIn(["app","saving"])){e(L());var n=t().get("data").toJS();return e(G()),(0,ee.ajaxSendData)("/codex/save",JSON.stringify(n)).then(function(t){return e(U()),!0})["catch"](function(t){return e(U()),!1})}}}function z(e){return{type:"LOCAL_DATA_TOKEN",val:e}}function H(){return{type:"PUBLISH"}}function J(e){if(null!==e)return{type:"SET_PAGE_DATA",val:e}}function V(){return function(e,t){var n=t().getIn(["data","pageid"]);return(0,ee.ajaxGetData)("/codex/pageimgs?pageid="+n).then(function(t){if(t&&t.status&&t.imgsData)return e(A(t.imgsData))})}}function q(){return function(e){}}function X(e){return{type:"SET_LOCAL_SAVING",val:e}}function K(){return function(e,t){var n=t().toJS();(0,ee.localDataSave)(n.data.pageid,n.data)}}function W(e){return function(e,t){var n=t().toJS();(0,ee.localDataSave)(n.data.pageid,n.data)}}function Y(e){return{type:"LOCAL_SAVE_IN_PROG",val:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.addItem=r,t.addMedia=o,t.addYoutube=a,t.addText=i,t.insertHeader=l,t.deleteHeading=u,t.addHeader=s,t.computeHeadingLevels=c,t.setImg=f,t.addImg=p,t.uploadingInProg=d,t.uploadingEnded=h,t.selectImg=m,t.imgUpload_START=v,t.imgUpload_END=y,t.deleteImage=g,t.uploadFile=b,t.openImgSelectPage=O,t.closeImgSelectPage=I,t.clearImgInsertId=_,t.switchPage=E,t.saveItemContent=w,t.focusOnItem=P,t.clearFocus=x,t.deleteItem=T,t.deleteItemInFocus=N,t.change_OPTION_alignment=S,t.change_heading_size=C,t.change_OPTION_size=j,t.change_OPTION_src=D,t.change_OPTION_numbering=k,t.selectImgFromBank=M,t.setImgBank=A,t.imgResize=F,t.saveTitle=L,t.newPage=B,t.saving_START=G,t.saving_END=U,t.saveData=R,t.setLocalDataToken=z,t.publish=H,t.setPageData=J,t.fetchImgsData=V,t.fetchTweet=q,t.setLocalSaving=X,t.setLocalStorage=K,t.localSave=W,t.setLocalSaveInProg=Y;var Z=(n(170),n(191)),$=e(Z),Q=n(192),ee=n(193),te=n(196);e(te)}).call(this)}finally{}},192:function(e,t,n){try{(function(){"use strict";function e(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n,r){return new Promise(function(o,a){u["default"].ajax({type:"POST",dataType:"json",contentType:"application/json",url:"/codex/sign-s3",data:JSON.stringify({filename:e,filetype:t,dimen:n,pageid:r}),success:function(e){o(e)}})})}function o(e,t){return new Promise(function(n,r){var o=new XMLHttpRequest;o.open("PUT",t.signedRequest),o.onreadystatechange=function(){4===o.readyState&&(200===o.status?n(t):r("Could not upload file."))},o.send(e)})}function a(e,t){return new Promise(function(n,r){u["default"].get("/codex/valid-upload?imgid="+e.imgid+"&pageid="+t,function(t){var o=JSON.parse(t);o.status?n(e):r(o)})})}function i(e,t,n){return r(e.name,e.type,t,n).then(function(t){return o(e,t)}).then(function(e){return a({imgid:e.id,url:e.url,dimen:t},n)})}Object.defineProperty(t,"__esModule",{value:!0}),t.uploadToS3=i;var l=n(191),u=e(l)}).call(this)}finally{}},193:function(e,t,n){try{(function(){"use strict";function e(e){return e&&e.__esModule?e:{"default":e}}function r(){return(0,c["default"])("/memo",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({abcd:123,val:"hello"})})}function o(e,t){return new Promise(function(n,r){p["default"].ajax({type:"POST",dataType:"json",contentType:"application/json",url:e,data:t,timeout:18e4,success:function(e){console.log(e),n(e)},error:function(e){console.log("error!!"),console.log(e),r(e)}})})}function a(e){return new Promise(function(t,n){p["default"].get(e,function(e){t(e)})})}function i(e,t){localStorage&&(localStorage.setItem("pageData"+e,JSON.stringify(t)),console.log("local save!"))}function l(e){if(!localStorage)return null;var t=localStorage.getItem("pageData"+e);return null===t||void 0===t?null:JSON.parse(t)}function u(e){return localStorage?(localStorage.removeItem("pageData"+e),!0):null}Object.defineProperty(t,"__esModule",{value:!0}),t.sendPageData=r,t.ajaxSendData=o,t.ajaxGetData=a,t.localDataSave=i,t.loadLocalData=l,t.deleteLocalData=u;var s=n(194),c=e(s),f=n(191),p=e(f)}).call(this)}finally{}},194:function(e,t,n){n(195),e.exports=self.fetch.bind(self)},195:function(e,t){!function(e){"use strict";function t(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function n(e){return"string"!=typeof e&&(e=String(e)),e}function r(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return m.iterable&&(t[Symbol.iterator]=function(){return t}),t}function o(e){this.map={},e instanceof o?e.forEach(function(e,t){this.append(t,e)},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function a(e){return e.bodyUsed?Promise.reject(new TypeError("Already read")):void(e.bodyUsed=!0)}function i(e){return new Promise(function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function l(e){var t=new FileReader;return t.readAsArrayBuffer(e),i(t)}function u(e){var t=new FileReader;return t.readAsText(e),i(t)}function s(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,"string"==typeof e)this._bodyText=e;else if(m.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(m.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(m.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(e){if(!m.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e))throw new Error("unsupported BodyInit type")}else this._bodyText="";this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):m.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},m.blob?(this.blob=function(){var e=a(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this.blob().then(l)},this.text=function(){var e=a(this);if(e)return e;if(this._bodyBlob)return u(this._bodyBlob);if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)}):this.text=function(){var e=a(this);return e?e:Promise.resolve(this._bodyText)},m.formData&&(this.formData=function(){return this.text().then(p)}),this.json=function(){return this.text().then(JSON.parse)},this}function c(e){var t=e.toUpperCase();return v.indexOf(t)>-1?t:e}function f(e,t){t=t||{};var n=t.body;if(f.prototype.isPrototypeOf(e)){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new o(e.headers)),this.method=e.method,this.mode=e.mode,n||(n=e._bodyInit,e.bodyUsed=!0)}else this.url=e;if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new o(t.headers)),this.method=c(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function p(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),o=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(o))}}),t}function d(e){var t=new o,n=(e.getAllResponseHeaders()||"").trim().split("\n");return n.forEach(function(e){var n=e.trim().split(":"),r=n.shift().trim(),o=n.join(":").trim();t.append(r,o)}),t}function h(e,t){t||(t={}),this.type="default",this.status=t.status,this.ok=this.status>=200&&this.status<300,this.statusText=t.statusText,this.headers=t.headers instanceof o?t.headers:new o(t.headers),this.url=t.url||"",this._initBody(e)}if(!e.fetch){var m={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};o.prototype.append=function(e,r){e=t(e),r=n(r);var o=this.map[e];o||(o=[],this.map[e]=o),o.push(r)},o.prototype["delete"]=function(e){delete this.map[t(e)]},o.prototype.get=function(e){var n=this.map[t(e)];return n?n[0]:null},o.prototype.getAll=function(e){return this.map[t(e)]||[]},o.prototype.has=function(e){return this.map.hasOwnProperty(t(e))},o.prototype.set=function(e,r){this.map[t(e)]=[n(r)]},o.prototype.forEach=function(e,t){Object.getOwnPropertyNames(this.map).forEach(function(n){this.map[n].forEach(function(r){e.call(t,r,n,this)},this)},this)},o.prototype.keys=function(){var e=[];return this.forEach(function(t,n){e.push(n)}),r(e)},o.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),r(e)},o.prototype.entries=function(){var e=[];return this.forEach(function(t,n){e.push([n,t])}),r(e)},m.iterable&&(o.prototype[Symbol.iterator]=o.prototype.entries);var v=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];f.prototype.clone=function(){return new f(this)},s.call(f.prototype),s.call(h.prototype),h.prototype.clone=function(){return new h(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new o(this.headers),url:this.url})},h.error=function(){var e=new h(null,{status:0,statusText:""});return e.type="error",e};var y=[301,302,303,307,308];h.redirect=function(e,t){if(y.indexOf(t)===-1)throw new RangeError("Invalid status code");return new h(null,{status:t,headers:{location:e}})},e.Headers=o,e.Request=f,e.Response=h,e.fetch=function(e,t){return new Promise(function(n,r){function o(){return"responseURL"in i?i.responseURL:/^X-Request-URL:/m.test(i.getAllResponseHeaders())?i.getResponseHeader("X-Request-URL"):void 0}var a;a=f.prototype.isPrototypeOf(e)&&!t?e:new f(e,t);var i=new XMLHttpRequest;i.onload=function(){var e={status:i.status,statusText:i.statusText,headers:d(i),url:o()},t="response"in i?i.response:i.responseText;n(new h(t,e))},i.onerror=function(){r(new TypeError("Network request failed"))},i.ontimeout=function(){r(new TypeError("Network request failed"))},i.open(a.method,a.url,!0),"include"===a.credentials&&(i.withCredentials=!0),"responseType"in i&&m.blob&&(i.responseType="blob"),a.headers.forEach(function(e,t){i.setRequestHeader(t,e)}),i.send("undefined"==typeof a._bodyInit?null:a._bodyInit)})},e.fetch.polyfill=!0}}("undefined"!=typeof self?self:this)},196:function(e,t,n){try{(function(){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(191),a=r(o);t["default"]=function(e,t){e.forEach(function(e){var n=(0,a["default"])("."+e+" .textbox-content").html();n&&t(e,n)})},e.exports=t["default"]}).call(this)}finally{}},197:function(e,t,n){try{(function(){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={data:{username:"user",pageid:"rkpMypz3",title:"New Page",sections:["title","img"],items:{title:{type:"title",content:"enter title",options:{align:"aligncenter",size:100}},img:{type:"img",content:"",src:"https://journalstore.s3.amazonaws.com/qqq_r1O6KjzT",options:{size:100,align:"aligncenter",width:350,height:400}},title2:{type:"text",content:"",options:{align:"alignleft"}}},headings:[],headingNumbering:"standard",imgsData:[],published:!1},app:{editor:!0,imgInsertId:null,focus:null,after:1,uploading:!1,saving:!1,localsaving:!1,localSaveInProg:!1}},e.exports=t["default"]}).call(this)}finally{}},198:function(e,t,n){try{(function(){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e){return{data:e.get("data").toJS(),app:e.get("app").toJS()}}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(e,t,n){for(var r=!0;r;){var o=e,a=t,i=n;r=!1,null===o&&(o=Function.prototype);var l=Object.getOwnPropertyDescriptor(o,a);if(void 0!==l){if("value"in l)return l.value;var u=l.get;if(void 0===u)return;return u.call(i)}var s=Object.getPrototypeOf(o);if(null===s)return;e=s,t=a,n=i,r=!0,l=s=void 0}},c=n(2),f=o(c),p=n(171),d=(n(170),n(199)),h=(o(d),n(191)),m=o(h),v=n(190),y=r(v),g=n(208),b=o(g),O=n(212),I=o(O),_=n(214),E=o(_),w=n(215),P=o(w),x=n(213),T=(o(x),n(219)),N=(o(T),n(220)),S=o(N),C=n(221),j=o(C),D=n(222),k=o(D),M=n(223),A=o(M),F=n(226),L=(o(F),n(227)),B=(o(L),n(228)),G=o(B),U=n(196),R=(o(U),n(193)),z=function(e){function t(){var e=this;a(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.componentDidMount=function(){null!==(0,R.loadLocalData)(e.props.data.pageid)&&e.props.setLocalDataToken(!0)},this.handleOnFocus=function(t){return function(){t!==e.props.app.focus&&(e.props.focusOnItem(t),(0,m["default"])("."+t+" .textbox-content").focus())}},this.renderMediaDisp=function(e,t,n,r,o,a,i,l){return function(u){return f["default"].createElement(G["default"],{componentId:e,options:t,focus:a,label:n,match:r,baseUrl:o,handleSelect:i,handleClick:l},u)}},this.renderContent=function(){return e.props.data.sections.map(function(t){var n=e.props.data.items[t],r=n.type,o=n.options,a=n.content?n.content:"\n",i=e.props.app.focus,l=null;if("text"===r)l=f["default"].createElement(E["default"],{componentId:t,options:o,txt:a,focus:i,handleClick:e.handleOnFocus(t)});else if("header"===r)l=f["default"].createElement(P["default"],{componentId:t,options:o,txt:a,focus:i,numbering:e.props.data.headingNumbering,txt:a,handleClick:e.handleOnFocus(t)});else if("img"===r)l=f["default"].createElement(S["default"],{componentId:t,src:n.src,txt:a,options:o,focus:i,handleClick:e.handleOnFocus(t)});else if("title"===r)l=f["default"].createElement(I["default"],{componentId:t,options:o,txt:a,focus:i,handleClick:e.handleOnFocus(t)});else if("youtube"===r)l=e.renderMediaDisp(t,o,"enter youtube link","watch?v=","https://www.youtube.com/embed",i,e.props.change_OPTION_src,e.handleOnFocus(t)),l=l(f["default"].createElement("div",{className:"media-box yt-box"},f["default"].createElement("iframe",{className:"media-elem",src:o.src})));else{if("codepen"!==r)return null;l=e.renderMediaDisp(t,o,"enter codepen link","pen/","http://codepen.io/chriscoyier/embed",i,e.props.change_OPTION_src,e.handleOnFocus(t)),l=l(f["default"].createElement("div",{className:"media-box codepen-box"},f["default"].createElement("iframe",{className:"media-elem",src:o.src})))}return f["default"].createElement(b["default"],{key:t,componentId:t},l)})},this.renderPage=function(){return e.props.app.editor?e.renderContent():f["default"].createElement(j["default"],{uploadFile:e.props.uploadFile})},this.handleSwitchClick=function(){e.props.saveData()},this.renderIcons=function(){var e=["alignleft_w","alignright_w","aligncenter_w","alignleft","alignright","aligncenter","close","plus","upload","eye","newspaper","closegw","backspace-arrow-red"];return e.map(function(e){return f["default"].createElement("img",{src:"/assets/icons/"+e+".png"})})}}return i(t,e),u(t,[{key:"render",value:function(){return f["default"].createElement("div",null,f["default"].createElement("div",{className:"icons-loader"},this.renderIcons(),f["default"].createElement("img",{src:"/assets/icons/rolling.gif"})),f["default"].createElement(k["default"],{focusItem:this.props.app.focus},f["default"].createElement(A["default"],{deleteItemInFocus:this.props.deleteItemInFocus})),f["default"].createElement("div",{className:"app app-container rel"},f["default"].createElement("br",null),f["default"].createElement("br",null),f["default"].createElement("br",null),f["default"].createElement("br",null),f["default"].createElement("br",null),this.renderPage()))}}]),t}(f["default"].Component);t["default"]=(0,p.connect)(l,y)(z),e.exports=t["default"]}).call(this)}finally{}},199:function(e,t,n){"use strict";e.exports=n(200)},200:function(e,t,n){"use strict";function r(){var e="",t=Math.floor(.001*(Date.now()-d));return t===u?l++:(l=0,u=t),e+=c(s.lookup,h),e+=c(s.lookup,m),l>0&&(e+=c(s.lookup,l)),e+=c(s.lookup,t)}function o(t){return s.seed(t),e.exports}function a(t){return m=t,e.exports}function i(e){return void 0!==e&&s.characters(e),s.shuffled()}var l,u,s=n(201),c=n(203),f=n(205),p=n(206),d=1459707606518,h=6,m=n(207)||0;e.exports=r,e.exports.generate=r,e.exports.seed=o,e.exports.worker=a,e.exports.characters=i,e.exports.decode=f,e.exports.isValid=p},201:function(e,t,n){"use strict";function r(){p=!1}function o(e){if(!e)return void(c!==h&&(c=h,r()));if(e!==c){if(e.length!==h.length)throw new Error("Custom alphabet for shortid must be "+h.length+" unique characters. You submitted "+e.length+" characters: "+e);var t=e.split("").filter(function(e,t,n){return t!==n.lastIndexOf(e)});if(t.length)throw new Error("Custom alphabet for shortid must be "+h.length+" unique characters. These characters were not unique: "+t.join(", "));c=e,r()}}function a(e){return o(e),c}function i(e){d.seed(e),f!==e&&(r(),f=e)}function l(){c||o(h);for(var e,t=c.split(""),n=[],r=d.nextValue();t.length>0;)r=d.nextValue(),e=Math.floor(r*t.length),n.push(t.splice(e,1)[0]);return n.join("")}function u(){return p?p:p=l()}function s(e){var t=u();return t[e]}var c,f,p,d=n(202),h="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_-";e.exports={characters:a,seed:i,lookup:s,shuffled:u}},202:function(e,t){"use strict";function n(){return o=(9301*o+49297)%233280,o/233280}function r(e){o=e}var o=1;e.exports={nextValue:n,seed:r}},203:function(e,t,n){"use strict";function r(e,t){for(var n,r=0,a="";!n;)a+=e(t>>4*r&15|o()),n=t<Math.pow(16,r+1),r++;return a}var o=n(204);e.exports=r},204:function(e,t){"use strict";function n(){if(!r||!r.getRandomValues)return 48&Math.floor(256*Math.random());var e=new Uint8Array(1);return r.getRandomValues(e),48&e[0]}var r="object"==typeof window&&(window.crypto||window.msCrypto);e.exports=n},205:function(e,t,n){"use strict";function r(e){var t=o.shuffled();return{version:15&t.indexOf(e.substr(0,1)),worker:15&t.indexOf(e.substr(1,1))}}var o=n(201);e.exports=r},206:function(e,t,n){"use strict";function r(e){if(!e||"string"!=typeof e||e.length<6)return!1;for(var t=o.characters(),n=e.length,r=0;r<n;r++)if(t.indexOf(e[r])===-1)return!1;return!0}var o=n(201);e.exports=r},207:function(e,t){"use strict";e.exports=0},208:function(e,t,n){try{(function(){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e){return{data:e.get("data").toJS(),app:e.get("app").toJS()}}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(e,t,n){for(var r=!0;r;){var o=e,a=t,i=n;r=!1,null===o&&(o=Function.prototype);var l=Object.getOwnPropertyDescriptor(o,a);if(void 0!==l){if("value"in l)return l.value;var u=l.get;if(void 0===u)return;return u.call(i)}var s=Object.getPrototypeOf(o);if(null===s)return;e=s,t=a,n=i,r=!0,l=s=void 0}},c=n(2),f=o(c),p=n(171),d=(n(170),n(190)),h=r(d),m=n(209),v=o(m),y=function(e){function t(){a(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return i(t,e),u(t,[{key:"render",value:function(){var e=this.props.app.focus;return f["default"].createElement("div",{className:"item"},e===this.props.componentId&&"title"!==this.props.componentId?f["default"].createElement(v["default"],{componentId:this.props.componentId,after:0}):null,f["default"].createElement("div",{className:"item-container"},this.props.children),e===this.props.componentId?f["default"].createElement(v["default"],{componentId:this.props.componentId,after:1}):null)}}]),t}(f["default"].Component);t["default"]=(0,p.connect)(l,h)(y),e.exports=t["default"]}).call(this)}finally{}},209:function(e,t,n){try{(function(){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e){return{data:e.get("data").toJS()}}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(e,t,n){for(var r=!0;r;){var o=e,a=t,i=n;r=!1,null===o&&(o=Function.prototype);var l=Object.getOwnPropertyDescriptor(o,a);if(void 0!==l){if("value"in l)return l.value;var u=l.get;if(void 0===u)return;return u.call(i)}var s=Object.getPrototypeOf(o);if(null===s)return;e=s,t=a,n=i,r=!0,l=s=void 0}},c=n(2),f=o(c),p=n(171),d=(n(170),n(199)),h=o(d),m=n(191),v=(o(m),n(190)),y=r(v),g=n(196),b=o(g),O=n(210),I=(o(O),n(211)),_=o(I),E=function(e){function t(){var e=this;a(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.handleClick=function(){e.setState({show:!e.state.show})},this.handleSwitch=function(){(0,b["default"])(e.props.data.sections,e.props.saveItemContent),e.props.openImgSelectPage(e.props.componentId,e.props.after)},this.handleTypeClick=function(t){return function(){"image"===t?e.handleSwitch():e.props.addItem(e.props.after,t,e.props.componentId,"cid"+h["default"].generate()),e.handleClick()}},this.renderAddBars=function(){var t=["text","heading"],n=["image","youtube","codepen"];return e.state.show?f["default"].createElement("div",{className:"add-container "+(e.props.after?"marginDown":"marginUp")},f["default"].createElement(_["default"],{allTypes:t,handleTypeClick:e.handleTypeClick}),f["default"].createElement(_["default"],{allTypes:n,handleTypeClick:e.handleTypeClick})):null},this.renderButton=function(){return f["default"].createElement("div",{className:"button",onClick:e.handleClick
},e.state.show?f["default"].createElement("img",{src:"/assets/icons/close.png"}):f["default"].createElement("img",{src:"/assets/icons/plus.png"}))},this.state={show:!1}}return i(t,e),u(t,[{key:"render",value:function(){return f["default"].createElement("div",{className:"add"},this.props.after?null:this.renderButton(),this.renderAddBars(),this.props.after?this.renderButton():null)}}]),t}(f["default"].Component);t["default"]=(0,p.connect)(l,y)(E),e.exports=t["default"]}).call(this)}finally{}},210:function(e,t,n){try{(function(){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function(e,t,n){for(var r=!0;r;){var o=e,a=t,i=n;r=!1,null===o&&(o=Function.prototype);var l=Object.getOwnPropertyDescriptor(o,a);if(void 0!==l){if("value"in l)return l.value;var u=l.get;if(void 0===u)return;return u.call(i)}var s=Object.getPrototypeOf(o);if(null===s)return;e=s,t=a,n=i,r=!0,l=s=void 0}},u=n(2),s=r(u),c=function(e){function t(){o(this,t),l(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return a(t,e),i(t,[{key:"render",value:function(){return s["default"].createElement("div",{className:"addtype "+this.props.styling,onClick:this.props.handleTypeClick},s["default"].createElement("span",null,this.props.label))}}]),t}(s["default"].Component);t["default"]=c,e.exports=t["default"]}).call(this)}finally{}},211:function(e,t,n){try{(function(){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function(e,t,n){for(var r=!0;r;){var o=e,a=t,i=n;r=!1,null===o&&(o=Function.prototype);var l=Object.getOwnPropertyDescriptor(o,a);if(void 0!==l){if("value"in l)return l.value;var u=l.get;if(void 0===u)return;return u.call(i)}var s=Object.getPrototypeOf(o);if(null===s)return;e=s,t=a,n=i,r=!0,l=s=void 0}},u=n(2),s=r(u),c=n(210),f=r(c),p=function(e){function t(){var e=this;o(this,t),l(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments),this.renderAddTypes=function(t){return t.map(function(t){return s["default"].createElement("div",{className:"inline-block"},s["default"].createElement(f["default"],{label:t,styling:t+"-style",handleTypeClick:e.props.handleTypeClick(t)}))})}}return a(t,e),i(t,[{key:"render",value:function(){return s["default"].createElement("div",{className:"addbar"},s["default"].createElement("div",{className:"bar"},this.renderAddTypes(this.props.allTypes)))}}]),t}(s["default"].Component);t["default"]=p,e.exports=t["default"]}).call(this)}finally{}},212:function(e,t,n){try{(function(){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function(e,t,n){for(var r=!0;r;){var o=e,a=t,i=n;r=!1,null===o&&(o=Function.prototype);var l=Object.getOwnPropertyDescriptor(o,a);if(void 0!==l){if("value"in l)return l.value;var u=l.get;if(void 0===u)return;return u.call(i)}var s=Object.getPrototypeOf(o);if(null===s)return;e=s,t=a,n=i,r=!0,l=s=void 0}},u=n(2),s=r(u),c=n(213),f=r(c),p=n(209),d=(r(p),function(e){function t(){var e=this;o(this,t),l(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments),this.isInFocus=function(t){return t===e.props.componentId?"inFocus":""}}return a(t,e),i(t,[{key:"render",value:function(){return s["default"].createElement("div",{className:"titlecomp",onClick:this.props.handleClick,onFocus:this.props.handleClick},s["default"].createElement("div",{className:"container "+this.isInFocus(this.props.focus)},s["default"].createElement(f["default"],{size:"hx",componentId:this.props.componentId,txt:this.props.txt,alignment:this.props.options.align})))}}]),t}(s["default"].Component));t["default"]=d,e.exports=t["default"]}).call(this)}finally{}},213:function(e,t,n){try{(function(){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function(e,t,n){for(var r=!0;r;){var o=e,a=t,i=n;r=!1,null===o&&(o=Function.prototype);var l=Object.getOwnPropertyDescriptor(o,a);if(void 0!==l){if("value"in l)return l.value;var u=l.get;if(void 0===u)return;return u.call(i)}var s=Object.getPrototypeOf(o);if(null===s)return;e=s,t=a,n=i,r=!0,l=s=void 0}},u=n(2),s=r(u),c=n(191),f=(r(c),function(e){function t(){o(this,t),l(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return a(t,e),i(t,[{key:"componentDidMount",value:function(){var e=document.querySelector("."+this.props.componentId+" textarea"),t=document.querySelector("."+this.props.componentId+" span");e.value=this.props.txt,t.textContent=e.value,e.addEventListener("input",function(){t.textContent=e.value})}},{key:"componentDidUpdate",value:function(e,t){if(e.txt!==this.props.txt){var n=document.querySelector("."+this.props.componentId+" textarea"),r=document.querySelector("."+this.props.componentId+" span");n.value=this.props.txt,r.textContent=n.value}}},{key:"render",value:function(){return s["default"].createElement("div",{className:this.props.componentId+" "+this.props.size+" "+this.props.alignment+" textbox"},s["default"].createElement("pre",null,s["default"].createElement("span",{className:"textbox-content"}),s["default"].createElement("br",null)),s["default"].createElement("textarea",null))}}]),t}(s["default"].Component));t["default"]=f,e.exports=t["default"]}).call(this)}finally{}},214:function(e,t,n){try{(function(){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function(e,t,n){for(var r=!0;r;){var o=e,a=t,i=n;r=!1,null===o&&(o=Function.prototype);var l=Object.getOwnPropertyDescriptor(o,a);if(void 0!==l){if("value"in l)return l.value;var u=l.get;if(void 0===u)return;return u.call(i)}var s=Object.getPrototypeOf(o);if(null===s)return;e=s,t=a,n=i,r=!0,l=s=void 0}},u=n(2),s=r(u),c=n(213),f=r(c),p=n(209),d=(r(p),function(e){function t(){var e=this;o(this,t),l(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments),this.isInFocus=function(t){return t===e.props.componentId?"inFocus":""}}return a(t,e),i(t,[{key:"render",value:function(){var e={width:this.props.options.size+"%"};return s["default"].createElement("div",{className:"section",onClick:this.props.handleClick,onFocus:this.props.handleClick},s["default"].createElement("div",{className:"container "+this.isInFocus(this.props.focus),style:e},s["default"].createElement(f["default"],{size:"t0",componentId:this.props.componentId,txt:this.props.txt,alignment:this.props.options.align})))}}]),t}(s["default"].Component));t["default"]=d,e.exports=t["default"]}).call(this)}finally{}},215:function(e,t,n){try{(function(){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function(e,t,n){for(var r=!0;r;){var o=e,a=t,i=n;r=!1,null===o&&(o=Function.prototype);var l=Object.getOwnPropertyDescriptor(o,a);if(void 0!==l){if("value"in l)return l.value;var u=l.get;if(void 0===u)return;return u.call(i)}var s=Object.getPrototypeOf(o);if(null===s)return;e=s,t=a,n=i,r=!0,l=s=void 0}},u=n(2),s=r(u),c=n(216),f=r(c),p=n(191),d=r(p),h=n(213),m=(r(h),n(209)),v=(r(m),function(e){function t(){var e=this;o(this,t),l(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments),this.isInFocus=function(t){return t===e.props.componentId?"inFocus":""},this.formatLabel=function(e,t){if("none"===t)return"";var n="";for(var r in e){var o=e[r];0!==e[r]&&(r>0&&(n+="."),"roman"===t&&(o=f["default"].toRoman(e[r])),n+=" "+o)}return n},this.renderLabel=function(t,n){return"alignleft"===t.align||"alignright"===t.align?s["default"].createElement("div",{className:"inline-block heading-label"},s["default"].createElement("div",{className:"heading-level"},s["default"].createElement("span",null,e.formatLabel(t.level,n)))):"aligncenter"===t.align?s["default"].createElement("div",{className:"heading-label-center"},e.formatLabel(t.level,n)):void 0}}return a(t,e),i(t,[{key:"componentDidMount",value:function(){(0,d["default"])("."+this.props.componentId+" .textbox-content").html(this.props.txt)}},{key:"componentDidUpdate",value:function(e,t){e.txt!==this.props.txt&&(0,d["default"])("."+this.props.componentId+" .textbox-content").html(this.props.txt)}},{key:"render",value:function(){var e=this.props.numbering;return s["default"].createElement("div",{className:"heading",onClick:this.props.handleClick,onFocus:this.props.handleClick},s["default"].createElement("div",{className:"content "+this.props.componentId+" "+this.props.options.size+" "+this.props.options.align+" "+this.isInFocus(this.props.focus)},this.renderLabel(this.props.options,e),s["default"].createElement("div",{className:"headingInput"},s["default"].createElement("div",{contentEditable:!0,className:"textbox-content"},"title"))))}}]),t}(s["default"].Component));t["default"]=v,e.exports=t["default"]}).call(this)}finally{}},216:function(e,t,n){!function(){e.exports={toArabic:n(217),toRoman:n(218)}}()},217:function(e,t){!function(){function t(e){if("string"!=typeof e&&!(e instanceof String))throw new TypeError("toArabic expects a string");if(/^nulla$/i.test(e)||!e.length)return 0;if(e=e.toUpperCase().match(/^(M{0,3})(CM|DC{0,3}|CD|C{0,3})(XC|LX{0,3}|XL|X{0,3})(IX|VI{0,3}|IV|I{0,3})$/),!e)throw new Error("toArabic expects a valid roman number");var t=0;return t+=1e3*e[1].length,t+="CM"===e[2]?900:"CD"===e[2]?400:100*e[2].length+("D"===e[2][0]?400:0),t+="XC"===e[3]?90:"XL"===e[3]?40:10*e[3].length+("L"===e[3][0]?40:0),t+="IX"===e[4]?9:"IV"===e[4]?4:1*e[4].length+("V"===e[4][0]?4:0)}Array.prototype.forEach;e.exports=t}()},218:function(e,t){!function(){function t(e,t,n,r){var o="";switch(e){case 0:return o;case 9:return t+r;case 4:return t+n}for(e>=5&&(o=n,e-=5);e-- >0;)o+=t;return o}function n(e){if(e instanceof Number&&(e=parseInt(e,10)),("string"==typeof e||e instanceof String)&&(e=parseInt(e,10),isNaN(e)))throw new TypeError("toArabic expects a number");if("number"!=typeof e)throw new TypeError("toArabic expects a number");if(isNaN(e))throw new TypeError("toArabic expects a real number");if(e<0)throw new Error("toArabic cannot express negative numbers");if(e>3999)throw new Error("toArabic cannot express numbers over 3999");if(0===e)return"nulla";var n="";return n+=t(Math.floor(e/1e3),"M","",""),e%=1e3,n+=t(Math.floor(e/100),"C","D","M"),e%=100,n+=t(Math.floor(e/10),"X","L","C"),e%=10,n+=t(e,"I","V","X")}e.exports=n}()},219:function(e,t,n){try{(function(){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function(e,t,n){for(var r=!0;r;){var o=e,a=t,i=n;r=!1,null===o&&(o=Function.prototype);var l=Object.getOwnPropertyDescriptor(o,a);if(void 0!==l){if("value"in l)return l.value;var u=l.get;if(void 0===u)return;return u.call(i)}var s=Object.getPrototypeOf(o);if(null===s)return;e=s,t=a,n=i,r=!0,l=s=void 0}},u=n(2),s=r(u),c=n(191),f=(r(c),n(199)),p=r(f),d=function(e){function t(){var e=this;o(this,t),l(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.handleUpload=function(){if(!e.props.uploading){var t=e.refs.fileInput.getDOMNode().files,n=t[0],r=window.URL||window.webkitURL,o=new Image;o.src=r.createObjectURL(n);var a=e;o.onload=function(){a.props.prevID&&a.props.selectImg(n,{width:this.width,height:this.height},a.props.after,a.props.prevID,"cid"+p["default"].generate())}}},this.handleFileChange=function(){var t=e.refs.fileInput.getDOMNode().files[0];e.setState({selectedFile:t.name})},this.selectFile=function(){e.props.uploading||e.refs.fileInput.getDOMNode().click()},this.renderUploadButton=function(){return s["default"].createElement("div",{className:"upload-button-container"},s["default"].createElement("input",{className:"upload-button",type:"button",ref:"button",value:"upload",onClick:e.handleUpload}))},this.state={selectedFile:""}}return a(t,e),i(t,[{key:"render",value:function(){return s["default"].createElement("div",{className:"fileUpload"},s["default"].createElement("div",{className:"file-input-container"},s["default"].createElement("input",{type:"file",ref:"fileInput",name:"file",className:"file-input",onChange:this.handleFileChange})),s["default"].createElement("div",{className:"file-selector",onClick:this.selectFile},"select file"),this.state.selectedFile?s["default"].createElement("div",{className:"selected-file"},this.state.selectedFile):null,this.state.selectedFile?this.renderUploadButton():null,this.props.uploading?s["default"].createElement("div",{className:"upload-prog"},s["default"].createElement("img",{src:"/assets/icons/rolling.gif"})):null)}}]),t}(s["default"].Component);t["default"]=d,e.exports=t["default"]}).call(this)}finally{}},220:function(e,t,n){try{(function(){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function(e,t,n){for(var r=!0;r;){var o=e,a=t,i=n;r=!1,null===o&&(o=Function.prototype);var l=Object.getOwnPropertyDescriptor(o,a);if(void 0!==l){if("value"in l)return l.value;var u=l.get;if(void 0===u)return;return u.call(i)}var s=Object.getPrototypeOf(o);if(null===s)return;e=s,t=a,n=i,r=!0,l=s=void 0}},u=n(2),s=r(u),c=n(191),f=r(c),p=n(219),d=(r(p),function(e){function t(){var e=this;o(this,t),l(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments),this.isInFocus=function(t){return t===e.props.componentId?"inFocus":""}}return a(t,e),i(t,[{key:"componentDidMount",value:function(){(0,f["default"])("."+this.props.componentId+" .textbox-content").html(this.props.txt)}},{key:"render",value:function(){var e=this.props.options,t=null;return t={width:e.size+"%",height:"auto"},s["default"].createElement("div",{className:"imgDisp "+this.props.componentId+" "+this.isInFocus(this.props.focus),onClick:this.props.handleClick,onFocus:this.props.handleClick},s["default"].createElement("div",{className:"img-container"},this.props.src?s["default"].createElement("img",{src:this.props.src,style:t}):null,s["default"].createElement("div",{className:"img-label-container "+this.props.options.align},s["default"].createElement("div",{className:"img-label",style:t},s["default"].createElement("div",{contentEditable:!0,className:"textbox-content"})))))}}]),t}(s["default"].Component));t["default"]=d,e.exports=t["default"]}).call(this)}finally{}},221:function(e,t,n){try{(function(){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e){return{data:e.get("data").toJS(),app:e.get("app").toJS()}}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(e,t,n){for(var r=!0;r;){var o=e,a=t,i=n;r=!1,null===o&&(o=Function.prototype);var l=Object.getOwnPropertyDescriptor(o,a);if(void 0!==l){if("value"in l)return l.value;var u=l.get;if(void 0===u)return;return u.call(i)}var s=Object.getPrototypeOf(o);if(null===s)return;e=s,t=a,n=i,r=!0,l=s=void 0}},c=n(2),f=o(c),p=n(171),d=(n(170),n(191)),h=(o(d),n(199)),m=o(h),v=n(190),y=r(v),g=n(219),b=o(g),O=function(e){function t(){var e=this;a(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.componentDidMount=function(){e.props.fetchImgsData()},this.backButtonClick=function(){e.props.closeImgSelectPage(),e.props.clearImgInsertId()},this.clearImgFocus=function(){e.setState({selectedImg:null})},this.insertFromImgBank=function(){e.props.selectImgFromBank(e.state.selectedImg,e.props.app.after,e.props.app.imgInsertId,"cid"+m["default"].generate())},this.deleteImg=function(){if(e.state.selectedImg){var t=e.state.selectedImg.imgid;e.props.deleteImage(t).then(function(t){t&&e.setState({selectedImg:null})})}},this.renderUploadArea=function(){return f["default"].createElement("div",{className:"add-img"},f["default"].createElement("div",{className:"sect-title"},f["default"].createElement("span",null,"Add a new image")),f["default"].createElement("div",{className:"upload-area",onClick:e.clearImgFocus},f["default"].createElement(b["default"],{uploadFile:e.props.uploadFile,selectImg:e.props.selectImg,prevID:e.props.app.imgInsertId,after:e.props.app.after,uploading:e.props.app.uploading})))},this.renderImgBank=function(t){return t.map(function(t){var n=t.dimen.width>t.dimen.height?"bigWidth":"bigHeight",r=e.state.selectedImg&&e.state.selectedImg.imgid===t.imgid?"selected":"unselected";return f["default"].createElement("div",{className:"img-select-elem "+t.imgid+" fading"},f["default"].createElement("img",{src:t.url,className:"abs all-center "+n+" "+r,onClick:function(){e.setState({selectedImg:t})}}))})},this.renderImgSelection=function(){return f["default"].createElement("div",{className:"img-selection"},f["default"].createElement("div",{className:"sect-title"},f["default"].createElement("span",null,"Select an image")),f["default"].createElement("div",{className:"img-selection-area"},e.renderImgBank(e.props.data.imgsData)))},this.renderImgSelectBar=function(){return f["default"].createElement("div",{className:"img-select-bar"},f["default"].createElement("div",{className:"img-select-btn"},f["default"].createElement("div",{className:"img-select-insert",onClick:e.insertFromImgBank},"insert")),f["default"].createElement("div",{className:"img-select-btn"},f["default"].createElement("div",{className:"img-select-delete",onClick:e.deleteImg},"delete")))},this.renderBackBtn=function(){return f["default"].createElement("div",{className:"back-btn-container"},f["default"].createElement("div",{className:"back-btn"},f["default"].createElement("img",{src:"/assets/icons/backspace-arrow-red.png",onClick:e.backButtonClick})))},this.state={selectedImg:null}}return i(t,e),u(t,[{key:"render",value:function(){return f["default"].createElement("div",{className:"imgBankPage"},this.renderBackBtn(),this.renderUploadArea(),this.renderImgSelection(),this.state.selectedImg?this.renderImgSelectBar():null)}}]),t}(f["default"].Component);t["default"]=(0,p.connect)(l,y)(O),e.exports=t["default"]}).call(this)}finally{}},222:function(e,t,n){try{(function(){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e){return{data:e.get("data").toJS(),app:e.get("app").toJS()}}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(e,t,n){for(var r=!0;r;){var o=e,a=t,i=n;r=!1,null===o&&(o=Function.prototype);var l=Object.getOwnPropertyDescriptor(o,a);if(void 0!==l){if("value"in l)return l.value;var u=l.get;if(void 0===u)return;return u.call(i)}var s=Object.getPrototypeOf(o);if(null===s)return;e=s,t=a,n=i,r=!0,l=s=void 0}},c=n(2),f=o(c),p=n(171),d=(n(170),n(191)),h=o(d),m=n(190),v=r(m),y=n(196),g=o(y),b=n(193),O=n(223),I=o(O),_=n(225),E=o(_),w=function(e){function t(){var e=this;a(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.savePage=function(t,n){return function(){(0,g["default"])(e.props.data.sections,e.props.saveItemContent),(0,h["default"])(".btn-"+t).removeClass("save-success"),(0,h["default"])(".btn-"+t).removeClass("save-fail"),(0,h["default"])(".btn-"+t).addClass("saving"),e.props.saveData().then(function(r){(0,h["default"])(".btn-"+t).removeClass("saving"),r?(e.props.setLocalDataToken(!1),(0,h["default"])(".btn-"+t).addClass("save-success"),null!==n&&n()):(0,h["default"])(".btn-"+t).addClass("save-fail")})}},this.publishPage=function(){e.props.publish(),e.savePage("publish",function(){var t=window.open("/codex/view/"+e.props.data.username+"/"+e.props.data.pageid);t?t.focus():window.location="/codex/view/"+e.props.data.username+"/"+e.props.data.pageid})()},this.previewPage=function(){(0,g["default"])(e.props.data.sections,e.props.saveItemContent),e.props.saveData().then(function(t){if(t){var n=window.open("/codex/preview/"+e.props.data.pageid);n?n.focus():window.location="/codex/preview/"+e.props.data.pageid}})},this.restoreLocalData=function(){e.props.setPageData((0,b.loadLocalData)(e.props.data.pageid)),(0,b.deleteLocalData)(e.props.data.pageid),e.props.setLocalDataToken(!1)},this.localSave=function(){(0,g["default"])(e.props.data.sections,e.props.saveItemContent),e.props.localSave()},this.homeClick=function(){e.localSave(),window.location="/codex/editor"},this.renderRestorePage=function(){return e.props.app.hasLocalData?f["default"].createElement("div",{className:"restore-page"},f["default"].createElement("div",{className:"container"},f["default"].createElement("div",{className:"close-restore-page",onClick:function(){e.props.setLocalDataToken(!1)}},f["default"].createElement("img",{src:"/assets/icons/closegw.png"})),f["default"].createElement("div",{className:"restore-page-Q"},"restore unsaved data?"),f["default"].createElement("div",{className:"restore-page-A"},f["default"].createElement("div",{onClick:e.restoreLocalData},"restore")))):null},this.changeAlign=function(t,n){return function(){e.props.change_OPTION_alignment(t,n)}},this.changeSize=function(t,n){return function(){e.props.change_OPTION_size(t,n)}},this.changeNumbering=function(t){return function(){e.props.change_OPTION_numbering(t)}},this.renderAlignTools=function(t,n){var r=[{label:"",src:"alignleft_w",selectedSrc:"alignleft",selected:"alignleft"===n,handleClick:e.changeAlign(t,"alignleft")},{label:"",src:"aligncenter_w",selectedSrc:"aligncenter",selected:"aligncenter"===n,handleClick:e.changeAlign(t,"aligncenter")},{label:"",src:"alignright_w",selectedSrc:"alignright",selected:"alignright"===n,handleClick:e.changeAlign(t,"alignright")}];return f["default"].createElement(I["default"],{title:"alignment",btns:r,btnStyle:""})},this.renderHeadingStyling=function(t,n){var r=[{label:"roman",src:null,selected:"roman"===n,handleClick:e.changeNumbering("roman")},{label:"standard",src:null,selected:"standard"===n,handleClick:e.changeNumbering("standard")},{label:"none",src:null,selected:"none"===n,handleClick:e.changeNumbering("none")}];return f["default"].createElement(I["default"],{title:"heading style",btns:r,btnStyle:"heading-style-btn"})},this.renderHeadingSize=function(t,n){var r=[{label:"I",src:null,selected:"h0"===n,handleClick:e.changeSize(t,"h0")},{label:"I.1",src:null,selected:"h1"===n,handleClick:e.changeSize(t,"h1")},{label:"I.1.ii",src:null,selected:"h2"===n,handleClick:e.changeSize(t,"h2")}];return f["default"].createElement(I["default"],{title:"heading level",btns:r,btnStyle:"heading-size-btn"})},this.renderImgSize=function(t,n,r){return f["default"].createElement(E["default"],{focus:t,imgResize:e.props.imgResize,size:n,label:r})},this.renderTextTools=function(t,n){return[e.renderImgSize(t,n.size,"textbox width"),e.renderAlignTools(t,n.align)]},this.renderTitleTools=function(t,n){return[e.renderAlignTools(t,n.align)]},this.renderImgTools=function(t,n){return[e.renderImgSize(t,n.size,"image width"),e.renderAlignTools(t,n.align)]},this.renderHeadingTools=function(t,n){return[e.renderHeadingStyling(t,e.props.data.headingNumbering),e.renderHeadingSize(t,n.size),e.renderAlignTools(t,n.align)]},this.renderToolBoxes=function(t){if(!t)return null;var n=e.props.data.items[t];return"text"===n.type?e.renderTextTools(t,n.options):"title"===n.type?e.renderTitleTools(t,n.options):"img"===n.type?e.renderImgTools(t,n.options):"header"===n.type?e.renderHeadingTools(t,n.options):null},this.renderPageButton=function(e,t,n){return f["default"].createElement("div",{className:"toolbox page-toolbox btn-"+e},f["default"].createElement("div",{className:"toolbox-box"},f["default"].createElement("div",{className:"tool-title"},e),f["default"].createElement("div",{className:"img-container",onClick:n},f["default"].createElement("img",{src:"/assets/icons/"+t}))))},this.renderPageTools=function(){return[e.renderPageButton("save","upload.png",e.savePage("save",null)),e.renderPageButton("preview","eye.png",e.previewPage),e.renderPageButton("publish","newspaper.png",e.publishPage)]},this.state={btnsave:"",btnpreview:"",btnpublish:""}}return i(t,e),u(t,[{key:"render",value:function(){return f["default"].createElement("div",{className:"toolbar"},f["default"].createElement("div",{className:"tool-sect page-tools"},f["default"].createElement("div",{className:"toolbox"},f["default"].createElement("div",{className:"toolbox-box app-title",onClick:this.homeClick},"codex")),this.renderPageTools()),f["default"].createElement("div",{className:"tool-sect item-tools"},this.renderToolBoxes(this.props.app.focus),this.props.app.editor&&"title"!==this.props.app.focus?f["default"].createElement("div",{className:"toolbox btn-del",onClick:this.props.deleteItemInFocus},f["default"].createElement("span",{className:"abs all-center"},"delete item")):null),this.renderRestorePage())}}]),t}(f["default"].Component);t["default"]=(0,p.connect)(l,v)(w),e.exports=t["default"]}).call(this)}finally{}},223:function(e,t,n){try{(function(){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){
function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function(e,t,n){for(var r=!0;r;){var o=e,a=t,i=n;r=!1,null===o&&(o=Function.prototype);var l=Object.getOwnPropertyDescriptor(o,a);if(void 0!==l){if("value"in l)return l.value;var u=l.get;if(void 0===u)return;return u.call(i)}var s=Object.getPrototypeOf(o);if(null===s)return;e=s,t=a,n=i,r=!0,l=s=void 0}},u=n(2),s=r(u),c=n(224),f=r(c),p=function(e){function t(){var e=this;o(this,t),l(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments),this.renderButtons=function(t){return t.map(function(t){return s["default"].createElement("div",{className:"toolbox-item "+e.props.btnStyle},s["default"].createElement(f["default"],{label:t.label,src:t.src,selectedSrc:t.selectedSrc,selected:t.selected,handleClick:t.handleClick}))})}}return a(t,e),i(t,[{key:"render",value:function(){return s["default"].createElement("div",{className:"toolbox toolbox-options"},s["default"].createElement("div",{className:"toolbox-box"},this.props.title?s["default"].createElement("div",{className:"toolbox-title"},this.props.title):null,this.renderButtons(this.props.btns)))}}]),t}(s["default"].Component);t["default"]=p,e.exports=t["default"]}).call(this)}finally{}},224:function(e,t,n){try{(function(){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function(e,t,n){for(var r=!0;r;){var o=e,a=t,i=n;r=!1,null===o&&(o=Function.prototype);var l=Object.getOwnPropertyDescriptor(o,a);if(void 0!==l){if("value"in l)return l.value;var u=l.get;if(void 0===u)return;return u.call(i)}var s=Object.getPrototypeOf(o);if(null===s)return;e=s,t=a,n=i,r=!0,l=s=void 0}},u=n(2),s=r(u),c=function(e){function t(){var e=this;o(this,t),l(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments),this.fullSrc=function(e){return"/assets/icons/"+e+".png"},this.renderLabel=function(t){return t?s["default"].createElement("div",{className:"label"},e.props.label):null},this.renderImg=function(t){return e.props.src?e.props.selected&&e.props.selectedSrc?s["default"].createElement("img",{src:e.fullSrc(e.props.selectedSrc)}):s["default"].createElement("img",{src:e.fullSrc(e.props.src)}):null}}return a(t,e),i(t,[{key:"render",value:function(){return s["default"].createElement("div",{className:"tool-button"},s["default"].createElement("div",{className:"tool-img-container"},s["default"].createElement("div",{className:(this.props.src?"tool-img":"tool-label")+" "+(this.props.selected?"selected":""),onClick:this.props.handleClick},this.renderLabel(this.props.label),this.renderImg())))}}]),t}(s["default"].Component);t["default"]=c,e.exports=t["default"]}).call(this)}finally{}},225:function(e,t,n){try{(function(){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function(e,t,n){for(var r=!0;r;){var o=e,a=t,i=n;r=!1,null===o&&(o=Function.prototype);var l=Object.getOwnPropertyDescriptor(o,a);if(void 0!==l){if("value"in l)return l.value;var u=l.get;if(void 0===u)return;return u.call(i)}var s=Object.getPrototypeOf(o);if(null===s)return;e=s,t=a,n=i,r=!0,l=s=void 0}},u=n(2),s=r(u),c=function(e){function t(){var e=this;o(this,t),l(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.handleImgResize=function(t){e.props.imgResize(e.props.focus,t.target.value)},this.state={}}return a(t,e),i(t,[{key:"render",value:function(){return s["default"].createElement("div",{className:"toolbox toolbox-options"},s["default"].createElement("div",{className:"toolbox-box"},s["default"].createElement("div",{className:"toolbox-title"},this.props.label),s["default"].createElement("div",{className:"toolbox-item img-size-tool"},s["default"].createElement("input",{type:"text",onChange:this.handleImgResize,value:this.props.size}),s["default"].createElement("div",{className:"input-label"},"%"))))}}]),t}(s["default"].Component);t["default"]=c,e.exports=t["default"]}).call(this)}finally{}},226:function(e,t,n){try{(function(){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function(e,t,n){for(var r=!0;r;){var o=e,a=t,i=n;r=!1,null===o&&(o=Function.prototype);var l=Object.getOwnPropertyDescriptor(o,a);if(void 0!==l){if("value"in l)return l.value;var u=l.get;if(void 0===u)return;return u.call(i)}var s=Object.getPrototypeOf(o);if(null===s)return;e=s,t=a,n=i,r=!0,l=s=void 0}},u=n(2),s=r(u),c=function(e){function t(){var e=this;o(this,t),l(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.handleClick=function(){e.props.handleSelect(e.state.value)},this.handleChange=function(t){e.setState({value:t.target.value})},this.state={value:""}}return a(t,e),i(t,[{key:"render",value:function(){return s["default"].createElement("div",{className:"mediaSelect"},s["default"].createElement("div",{className:"select-label"},this.props.label),s["default"].createElement("input",{type:"text",className:"select-input-field",value:this.state.value,onChange:this.handleChange}),s["default"].createElement("div",{className:"select-btn",onClick:this.handleClick},"add"))}}]),t}(s["default"].Component);t["default"]=c,e.exports=t["default"]}).call(this)}finally{}},227:function(e,t,n){try{(function(){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function(e,t,n){for(var r=!0;r;){var o=e,a=t,i=n;r=!1,null===o&&(o=Function.prototype);var l=Object.getOwnPropertyDescriptor(o,a);if(void 0!==l){if("value"in l)return l.value;var u=l.get;if(void 0===u)return;return u.call(i)}var s=Object.getPrototypeOf(o);if(null===s)return;e=s,t=a,n=i,r=!0,l=s=void 0}},u=n(2),s=r(u),c=n(226),f=r(c),p=function(e){function t(){var e=this;o(this,t),l(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments),this.extractYoutubeId=function(e){if(!e)return null;var t=e.indexOf("watch?v=");return t===-1?null:e.substring(t+8,e.length)},this.handleSelect=function(t){var n=e.extractYoutubeId(t);n?e.props.handleSelect(e.props.componentId,"https://www.youtube.com/embed/"+n):e.props.handleSelect(e.props.componentId,null)},this.renderContent=function(t){return t.src?s["default"].createElement("div",{className:"yt-box"},s["default"].createElement("iframe",{className:"yt-elem",src:t.src})):s["default"].createElement(f["default"],{label:"enter youtube link",handleSelect:e.handleSelect})}}return a(t,e),i(t,[{key:"render",value:function(){return s["default"].createElement("div",{className:"youtubeItem",onClick:this.props.handleClick,onFocus:this.props.handleClick},this.renderContent(this.props.options))}}]),t}(s["default"].Component);t["default"]=p,e.exports=t["default"]}).call(this)}finally{}},228:function(e,t,n){try{(function(){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function(e,t,n){for(var r=!0;r;){var o=e,a=t,i=n;r=!1,null===o&&(o=Function.prototype);var l=Object.getOwnPropertyDescriptor(o,a);if(void 0!==l){if("value"in l)return l.value;var u=l.get;if(void 0===u)return;return u.call(i)}var s=Object.getPrototypeOf(o);if(null===s)return;e=s,t=a,n=i,r=!0,l=s=void 0}},u=n(2),s=r(u),c=n(226),f=r(c),p=function(e){function t(){var e=this;o(this,t),l(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments),this.isInFocus=function(t){return t===e.props.componentId?"inFocus":""},this.extractIdFromUrl=function(e,t){if(!e)return null;var n=e.indexOf(t);return n===-1?null:e.substring(n+t.length,e.length)},this.handleSelect=function(t){var n=e.extractIdFromUrl(t,e.props.match);n?e.props.handleSelect(e.props.componentId,e.props.baseUrl+"/"+n):e.props.handleSelect(e.props.componentId,null)},this.renderContent=function(t){return t.src?e.props.children:s["default"].createElement(f["default"],{label:e.props.label,handleSelect:e.handleSelect})}}return a(t,e),i(t,[{key:"render",value:function(){return s["default"].createElement("div",{className:"mediaDisp "+this.isInFocus(this.props.focus),onClick:this.props.handleClick,onFocus:this.props.handleClick},this.renderContent(this.props.options))}}]),t}(s["default"].Component);t["default"]=p,e.exports=t["default"]}).call(this)}finally{}}});
//# sourceMappingURL=editor.js.map